api:
- java.util.List
characteristics:
- missing/condition/synchronization
crash: false
description: |
  In lines 177 and 180 of JUnitXMLReporter, synchronized collections m_configIssues and m_allTests
  are both iterated in an unsynchronized manner, but according to Oracle Java 7 API specification
  (http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#synchronizedList(java.util.List)),
  although a synchronizedList is thread-safe for list manipulations like insertion and deletion, manual synchronization is required when the collection is iterated.
  Failure to do so might result in non-deterministic behavior.
  This pull request adds a fix by synchronizing m_configIssues and m_allTests when iterating.
fix:
  commit: https://github.com/emopers/testng/commit/92e7da1eb0ed8dd1eadfc448f8ed2941fc1ef9fc
  revision: 92e7da1eb0ed8dd1eadfc448f8ed2941fc1ef9fc
internal: false
location:
  file: org/testng/reporters/JUnitXMLReporter.java
  method: generateReport(ITestContext)
report: https://github.com/cbeust/testng/pull/830
source:
  name: Owolabi's Dataset ASE'16
  url: fsl.cs.illinois.edu/spec-eval/
